<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>자동 스크롤 페이지</title>
<!--    <style>-->
<!--        body {-->
<!--          height: 3000px; /* 스크롤 테스트용 높이 */-->
<!--          font-size: 20px;-->
<!--          padding: 30px;-->
<!--          line-height: 1.8;-->
<!--        }-->
<!--    </style>-->
</head>
<body onload="startScrollLoop(1000, 70)">
<h3>자동 스크롤 페이지</h3>
<hr>
<h3>꿈길(이동순)</h3>
꿈길에<br>
발자취가 있다면<br>
님의 집 창밖<br>
그 돌계단 길이 이미 오래 전에<br>
모래가 되고 말았을 거에요<br>
하지만<br>
그 꿈길에서 자취 없다 하니<br>
나는 그것이 정말 서러워요<br>
이 밤도<br>
나는 님의 창 밖<br>
그 돌계단 위에 홀로 서서<br>
혹시라도 님의 목소리가 들려올까<br>
고개 숙이고 엿들어요<br>

<p>이 문장은 스크롤 테스트를 위한 긴 예시입니다.<br>
    스크롤을 자동으로 시뮬레이션하여 페이지를 아래로,<br>
    그리고 다시 위로 스크롤할 수 있도록 만들어졌습니다.<br>
    여러 줄에 걸쳐 작성된 이 긴 문장을 통해 스크롤이 정상적으로 작동하는지 확인할 수 있습니다.<br>
    문장의 내용은 무작위로 길게 작성되었으며, 각 문장은 독립적으로 이어집니다.<br>
    이와 같은 방식으로 문장을 여러 번 반복하여 페이지 전체가 꽉 차도록 했습니다.<br>
    이 문장을 충분히 읽을 수 있을 만큼 길게 작성하는 것이 중요하며,<br>
    스크롤이 페이지 전체를 대상으로 정확히 작동하는지 확인할 수 있도록 합니다.<br>
    스크롤이 진행되면서 이 문장은 계속해서 하단으로 내려가며,<br>
    페이지가 끝에 도달했을 때는 다시 맨 위로 올라갈 수 있도록 설정됩니다.<br>
    이 방식으로 스크롤 기능을 더욱 실험적으로 테스트할 수 있습니다.<br>
    문장의 내용은 테스트를 위한 예시일 뿐이며, 페이지가 길게 생성되도록 도와줍니다.<br>
    스크롤을 통해 이 페이지를 이동하면서 스크롤 애니메이션이 부드럽게 실행되는지 확인하세요.<br>
    스크롤이 끝나면 다시 위로 올라가는 기능도 활성화되어 있습니다.<br>
    이제 스크롤이 잘 작동하는지 직접 확인해보세요.<br>
    문장이 많고 길게 작성되었기 때문에 페이지가 아래로 내려가는 속도에 따라<br>
    스크롤 애니메이션이 얼마나 부드럽게 진행되는지 볼 수 있습니다.<br>
    이 문장들은 단순한 예시일 뿐이며, 실제 페이지에서 테스트할 때 다양한 문장과 내용을 추가하여<br>
    더욱 다양한 테스트를 진행할 수 있습니다.</p>

<script>
function smoothScrollBy(distance, duration, onDone) {
  const start = window.scrollY;
  const startTime = performance.now();

  function scroll(currentTime) {
    const elapsed = currentTime - startTime;
    const progress = Math.min(elapsed / duration, 1);
    window.scrollTo(0, start + distance * easeInOutQuad(progress));

    if (progress < 1) {
      requestAnimationFrame(scroll);
    } else if (onDone) {
      onDone();
    }
  }

  requestAnimationFrame(scroll);

  function easeInOutQuad(t) {
    return t < 0.5
      ? 2 * t * t
      : -1 + (4 - 2 * t) * t;
  }
}

function startScrollLoop(interval, scrollDistance) {
    function scrollStep() {
        smoothScrollBy(scrollDistance, 1000, () => {
            const atBottom = window.innerHeight + window.scrollY >= document.body.scrollHeight;
            if (atBottom) {
                setTimeout(() => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    setTimeout(() => scrollStep(), interval);
                }, interval/10);
            } else {
                setTimeout(scrollStep, interval);
            }
        });
    }

   scrollStep();
}
</script>
</body>
</html>
